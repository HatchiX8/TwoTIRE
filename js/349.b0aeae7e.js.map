{"version":3,"file":"js/349.b0aeae7e.js","mappings":"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","sources":["webpack://new-project/./src/views/CheckoutView.vue","webpack://new-project/./src/views/CheckoutView.vue?d317"],"sourcesContent":["<template>\n  <div class=\"bg-primary\">\n    <div class=\"container\">\n      <div class=\"row row-cols-lg-7 d-flex justify-content-center px-2\">\n        <div class=\"col-lg-7 bg-light rounded-3 my-5\">\n          <div class=\"bg-light px-2 py-3 rounded-3\">\n            <h4 class=\"ps-2 fw-bold text-dark\">訂單明細</h4>\n            <table class=\"text-nowrap\">\n              <thead>\n                <tr class=\"text-center\">\n                  <th width=\"180\" class=\"d-none d-lg-block\"></th>\n                  <th width=\"150\">產品名稱</th>\n                  <th width=\"80\">尺寸</th>\n                  <th width=\"100\">數量</th>\n                  <th width=\"120\">價格</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"text-center\" v-for=\"item in order.products\" :key=\"item.id\">\n                  <img\n                    :src=\"item.product.imageUrl\"\n                    class=\"d-block w-100 d-none d-lg-block\"\n                    alt=\"產品圖示\" />\n                  <td>{{ item.product.title }}</td>\n                  <td class=\"text-right\">M</td>\n                  <td class=\"text-right\">{{ item.qty }}/{{ item.product.unit }}</td>\n                  <td>\n                    <span class=\"text-danger\">{{ item.final_total }}</span>\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th colspan=\"2\" class=\"text-end fs-4\">總計</th>\n                  <td class=\"text-end text-danger fs-4\">{{ order.total }}</td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n        <form class=\"col-lg-7 bg-light rounded-3 my-5\" @submit.prevent=\"payOrder\">\n          <h2 class=\"mt-3 text-center text-dark\">訂購人資料</h2>\n          <table class=\"table pay-style\">\n            <tbody>\n              <tr>\n                <th>訂單編號</th>\n                <td>{{ order.id }}</td>\n              </tr>\n              <tr>\n                <th>姓名</th>\n                <td>{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <th width=\"100\">Email</th>\n                <td>{{ order.user.email }}</td>\n              </tr>\n              <tr>\n                <th>收件人電話</th>\n                <td>{{ order.user.tel }}</td>\n              </tr>\n              <tr>\n                <th>收件人地址</th>\n                <td>{{ order.user.address }}</td>\n              </tr>\n              <tr>\n                <th>付款方式</th>\n                <td>\n                  <span>{{ order.user.pay }}</span>\n                </td>\n              </tr>\n              <tr>\n                <th>付款狀態</th>\n                <td>\n                  <span v-if=\"!order.is_paid\" class=\"text-danger\">尚未付款</span>\n                  <span v-else>付款完成</span>\n                </td>\n              </tr>\n              <tr>\n                <th>備註</th>\n                <td>\n                  <span>{{ order.message }}</span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"text-center py-3\" v-if=\"order.is_paid === false\">\n            <button class=\"btn btn-danger\">確認並付款</button>\n          </div>\n          <div class=\"text-center py-3\" v-if=\"order.is_paid === true\">\n            <router-link to=\"/\" class=\"btn btn-danger\">回首頁</router-link>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\n\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          this.order = res.data.order;\n          emitter.emit('updateCart');\n        }\n      });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(url).then((res) => {\n        if (res.data.success) {\n          this.getOrder();\n        }\n      });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./CheckoutView.vue?vue&type=template&id=1620a201\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","colspan","key","_hoisted_28","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","$data","order","products","item","id","src","product","imageUrl","alt","_hoisted_9","_toDisplayString","title","_hoisted_10","_hoisted_11","qty","unit","_hoisted_12","final_total","_hoisted_13","_hoisted_14","total","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","user","name","_hoisted_19","email","_hoisted_20","tel","_hoisted_21","address","_hoisted_22","pay","_hoisted_23","is_paid","_hoisted_25","_hoisted_24","_hoisted_26","message","_hoisted_27","_hoisted_29","_createCommentVNode","_hoisted_30","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","data","orderId","isLoading","provide","emitter","methods","getOrder","url","this","$http","get","then","res","success","emit","post","created","$route","params","__exports__","render"],"sourceRoot":""}