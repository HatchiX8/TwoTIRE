{"version":3,"file":"js/519.eb97eab3.js","mappings":"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","sources":["webpack://new-project/./src/components/PaginationComponent.vue","webpack://new-project/./src/components/PaginationComponent.vue?4f9e","webpack://new-project/./src/views/ProductAll.vue","webpack://new-project/./src/views/ProductAll.vue?00a7"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\n          :class=\"{ disabled: pages.has_pre === false }\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page\"\n        :class=\"{ active: page === pages.current_page }\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\n          {{ page }}\n        </a>\n      </li>\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\n          :class=\"{ disabled: pages.has_next === false }\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=3dfb2a74\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingPlugin :active=\"isLoading\"></LoadingPlugin>\n  <div class=\"row row-cols-2 row-cols-lg-4 d-flex justify-content-start flex-wrap g-3 mt-2 mb-3\">\n    <div class=\"col\" v-for=\"item in products\" :key=\"item.id\">\n      <div class=\"card h-100\">\n        <a href=\"#\" @click.prevent=\"getProduct(item.id)\">\n          <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"產品圖示\" />\n        </a>\n        <div class=\"card-body\">\n          <h5 class=\"card-title text-dark m-0\">{{ item.title }}</h5>\n        </div>\n        <div class=\"card-footer border-0\">\n          <button\n            type=\"button\"\n            class=\"btn btn-primary w-100 text-nowrap px-0\"\n            @click=\"addCart(item.id)\"\n            :disabled=\"this.status.loadingItem === item.id\">\n            <div\n              v-if=\"this.status.loadingItem === item.id\"\n              class=\"spinner-border text-warning spinner-border-sm\"\n              role=\"status\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n            加入購物車\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"d-flex justify-content-center\">\n    <PaginationComponent :pages=\"pagination\" @emit-pages=\"getProducts\"></PaginationComponent>\n  </div>\n</template>\n\n<script>\nimport PaginationComponent from '@/components/PaginationComponent.vue';\nimport emitter from '@/methods/emitter';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n    };\n  },\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  components: {\n    PaginationComponent,\n  },\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        }\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart }).then((res) => {\n        this.status.loadingItem = '';\n        this.$httpMessageState(res, '加入購物車');\n        emitter.emit('updateCart');\n      });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./ProductAll.vue?vue&type=template&id=e8fda7d0\"\nimport script from \"./ProductAll.vue?vue&type=script&lang=js\"\nexport * from \"./ProductAll.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","disabled","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_hoisted_5","_Fragment","_renderList","total_pages","page","active","key","_hoisted_6","_hoisted_7","has_next","_hoisted_9","props","methods","this","$emit","__exports__","render","role","_hoisted_10","_createVNode","_component_LoadingPlugin","$data","isLoading","products","item","id","getProduct","src","imageUrl","alt","_toDisplayString","title","type","addCart","status","loadingItem","_hoisted_11","_createCommentVNode","_createTextVNode","_hoisted_12","_component_PaginationComponent","pagination","onEmitPages","getProducts","data","provide","emitter","components","PaginationComponent","api","$http","get","then","res","success","$router","push","url","cart","product_id","qty","post","$httpMessageState","emit","mounted"],"sourceRoot":""}