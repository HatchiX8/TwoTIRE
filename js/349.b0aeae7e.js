"use strict";(self["webpackChunknew_project"]=self["webpackChunknew_project"]||[]).push([[349],{2887:function(t,e,r){r.r(e),r.d(e,{default:function(){return Y}});var l=r(3396),s=r(7139),d=r(9242);const n={class:"bg-primary"},a={class:"container"},o={class:"row row-cols-lg-7 d-flex justify-content-center px-2"},i={class:"col-lg-7 bg-light rounded-3 my-5"},u={class:"bg-light px-2 py-3 rounded-3"},c=(0,l._)("h4",{class:"ps-2 fw-bold text-dark"},"訂單明細",-1),_={class:"text-nowrap"},h=(0,l._)("thead",null,[(0,l._)("tr",{class:"text-center"},[(0,l._)("th",{width:"180",class:"d-none d-lg-block"}),(0,l._)("th",{width:"150"},"產品名稱"),(0,l._)("th",{width:"80"},"尺寸"),(0,l._)("th",{width:"100"},"數量"),(0,l._)("th",{width:"120"},"價格")])],-1),p=["src"],w=(0,l._)("td",{class:"text-right"},"M",-1),g={class:"text-right"},y={class:"text-danger"},b=(0,l._)("th",{colspan:"2",class:"text-end fs-4"},"總計",-1),x={class:"text-end text-danger fs-4"},k=(0,l._)("h2",{class:"mt-3 text-center text-dark"},"訂購人資料",-1),m={class:"table pay-style"},f=(0,l._)("th",null,"訂單編號",-1),v=(0,l._)("th",null,"姓名",-1),z=(0,l._)("th",{width:"100"},"Email",-1),D=(0,l._)("th",null,"收件人電話",-1),O=(0,l._)("th",null,"收件人地址",-1),I=(0,l._)("th",null,"付款方式",-1),$=(0,l._)("th",null,"付款狀態",-1),j={key:0,class:"text-danger"},q={key:1},C=(0,l._)("th",null,"備註",-1),Z={key:0,class:"text-center py-3"},M=(0,l._)("button",{class:"btn btn-danger"},"確認並付款",-1),U=[M],E={key:1,class:"text-center py-3"};function H(t,e,r,M,H,K){const L=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",a,[(0,l._)("div",o,[(0,l._)("div",i,[(0,l._)("div",u,[c,(0,l._)("table",_,[h,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(H.order.products,(t=>((0,l.wg)(),(0,l.iD)("tr",{class:"text-center",key:t.id},[(0,l._)("img",{src:t.product.imageUrl,class:"d-block w-100 d-none d-lg-block",alt:"產品圖示"},null,8,p),(0,l._)("td",null,(0,s.zw)(t.product.title),1),w,(0,l._)("td",g,(0,s.zw)(t.qty)+"/"+(0,s.zw)(t.product.unit),1),(0,l._)("td",null,[(0,l._)("span",y,(0,s.zw)(t.final_total),1)])])))),128))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[b,(0,l._)("td",x,(0,s.zw)(H.order.total),1)])])])])]),(0,l._)("form",{class:"col-lg-7 bg-light rounded-3 my-5",onSubmit:e[0]||(e[0]=(0,d.iM)(((...t)=>K.payOrder&&K.payOrder(...t)),["prevent"]))},[k,(0,l._)("table",m,[(0,l._)("tbody",null,[(0,l._)("tr",null,[f,(0,l._)("td",null,(0,s.zw)(H.order.id),1)]),(0,l._)("tr",null,[v,(0,l._)("td",null,(0,s.zw)(H.order.user.name),1)]),(0,l._)("tr",null,[z,(0,l._)("td",null,(0,s.zw)(H.order.user.email),1)]),(0,l._)("tr",null,[D,(0,l._)("td",null,(0,s.zw)(H.order.user.tel),1)]),(0,l._)("tr",null,[O,(0,l._)("td",null,(0,s.zw)(H.order.user.address),1)]),(0,l._)("tr",null,[I,(0,l._)("td",null,[(0,l._)("span",null,(0,s.zw)(H.order.user.pay),1)])]),(0,l._)("tr",null,[$,(0,l._)("td",null,[H.order.is_paid?((0,l.wg)(),(0,l.iD)("span",q,"付款完成")):((0,l.wg)(),(0,l.iD)("span",j,"尚未付款"))])]),(0,l._)("tr",null,[C,(0,l._)("td",null,[(0,l._)("span",null,(0,s.zw)(H.order.message),1)])])])]),!1===H.order.is_paid?((0,l.wg)(),(0,l.iD)("div",Z,U)):(0,l.kq)("",!0),!0===H.order.is_paid?((0,l.wg)(),(0,l.iD)("div",E,[(0,l.Wm)(L,{to:"/",class:"btn btn-danger"},{default:(0,l.w5)((()=>[(0,l.Uk)("回首頁")])),_:1})])):(0,l.kq)("",!0)],32)])])])}var K=r(5820),L={data(){return{order:{user:{}},orderId:"",isLoading:!1}},provide(){return{emitter:K.Z}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/twotire-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,K.Z.emit("updateCart"))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/twotire-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},S=r(89);const W=(0,S.Z)(L,[["render",H]]);var Y=W}}]);
//# sourceMappingURL=349.b0aeae7e.js.map