{"version":3,"file":"js/969.b425c21c.js","mappings":"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","sources":["webpack://new-project/./src/components/CheckoutBanner.vue","webpack://new-project/./src/components/CheckoutBanner.vue?ca0a","webpack://new-project/./src/views/CartView.vue","webpack://new-project/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\n  <div class=\"checkout-banner\">\n    <div class=\"container\">\n      <div\n        class=\"d-flex justify-content-center align-items-center checkout-box flex-column\"\n        data-aos=\"zoom-in\"\n        data-aos-duration=\"3000\"\n        data-aos-easing=\"quad\">\n        <h1 class=\"text-primary rounded-4 p-3 text-center payBall\">You deserve to have</h1>\n      </div>\n    </div>\n  </div>\n</template>\n","import { render } from \"./CheckoutBanner.vue?vue&type=template&id=2aa39660\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingPlugin :active=\"isLoading\"></LoadingPlugin>\n  <CheckoutBanner></CheckoutBanner>\n  <div class=\"bg-warning body\">\n    <div class=\"container\">\n      <div class=\"row row-cols-lg-10 d-flex justify-content-center py-lg-4\">\n        <div class=\"col-12 col-lg-7 my-3 my-lg-0\">\n          <div class=\"bg-light px-2 py-3 rounded-3\">\n            <h4 class=\"ps-2 fw-bold text-dark\">購物車內容</h4>\n            <table class=\"\">\n              <thead>\n                <tr class=\"text-center\">\n                  <th width=\"150\" class=\"d-none d-lg-block\"></th>\n                  <th width=\"140\">產品名稱</th>\n                  <th width=\"120\">尺寸</th>\n                  <th width=\"75\">數量</th>\n                  <th width=\"120\">單價</th>\n                  <th width=\"50\"></th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"text-center\" v-for=\"item in cart.carts\" :key=\"item.id\">\n                  <img\n                    :src=\"item.product.imageUrl\"\n                    class=\"d-block w-100 d-none d-lg-block\"\n                    alt=\"產品圖\" />\n                  <td>{{ item.product.title }}</td>\n                  <td class=\"px-3\">\n                    <select class=\"form-select\">\n                      <option v-for=\"item in productSize\" :key=\"item.choose\">\n                        {{ item.choose }}\n                      </option>\n                    </select>\n                  </td>\n                  <td class=\"text-right\">\n                    <div class=\"input-group mt-lg-1\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control text-center\"\n                        aria-label=\"Example text with button addon\"\n                        aria-describedby=\"button-addon1\"\n                        v-model.number=\"item.qty\"\n                        min=\"1\"\n                        :disabled=\"item.id === this.status.loadingItem\"\n                        @change=\"updateCart(item)\" />\n                    </div>\n                  </td>\n                  <td>\n                    <span class=\"text-danger\">${{ $filters.currency(item.product.price) }}</span>\n                  </td>\n                  <td>\n                    <button\n                      class=\"btn btn-outline-danger btn-sm\"\n                      type=\"button\"\n                      @click=\"removeCartItem(item.id)\"\n                      :disabled=\"item.id === status.loadingItem\">\n                      <i class=\"bi bi-x\"></i>\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div class=\"text-end pe-4\" v-if=\"this.qtyWarning == true\">\n              <p class=\"text-end text-danger fs-4\">商品數量上限為50</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-lg-3 sticky-top z-1\" style=\"height: 100%; top: 80px\">\n          <div class=\"bg-light rounded-3 px-2 py-3 mb-3\">\n            <h5 class=\"ps-2 fw-bold text-dark\">優惠碼</h5>\n            <div class=\"input-group\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入優惠碼\"\n                aria-label=\"請輸入優惠碼\"\n                aria-describedby=\"btnGroupAddon\"\n                v-model=\"coupon_code\" />\n              <button\n                class=\"input-group-text btn btn-primary\"\n                id=\"btnGroupAddon\"\n                @click=\"addCouponCode\">\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n          <div class=\"bg-light rounded-3 px-2 mb-3 py-3\">\n            <h5 class=\"ps-2 fw-bold text-dark\">小記明細</h5>\n            <table class=\"table align-middle\">\n              <tbody>\n                <tr>\n                  <th colspan=\"2\" class=\"text-dark\">商品金額</th>\n                  <td class=\"text-end text-dark\">${{ $filters.currency(cart.total) }}</td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <th colspan=\"2\" class=\"text-dark\">總計</th>\n                  <td class=\"text-end text-danger fs-3\">\n                    ${{ $filters.currency(cart.final_total) }}\n                  </td>\n                </tr>\n                <tr v-if=\"cart.final_total !== cart.total\">\n                  <th colspan=\"2\" class=\"text-dark\"></th>\n                  <td class=\"text-end text-success\">已套用優惠券</td>\n                </tr>\n              </tfoot>\n            </table>\n            <a\n              class=\"btn btn-outline-primary w-100\"\n              @click.prevent=\"cartNext\"\n              :class=\"{ disabled: cartWarning == true }\"\n              >下一步</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AOS from 'aos';\nimport emitter from '@/methods/emitter';\nimport CheckoutBanner from '../components/CheckoutBanner.vue';\n\nexport default {\n  data() {\n    return {\n      cart: [],\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n      coupon_code: '',\n      productSize: [\n        // { choose: 'XS' },\n        // { choose: 'S' },\n        { choose: 'M' },\n        // { choose: 'L' },\n        // { choose: 'XL' },\n      ],\n      qtyWarning: false,\n      cartWarning: true,\n    };\n  },\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  inject: ['emitter', 'reload'],\n  components: {\n    CheckoutBanner,\n  },\n  methods: {\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          this.cart = res.data.data;\n          if (this.cart.total === 0) {\n            this.cartWarning = true;\n          } else {\n            this.cartWarning = false;\n          }\n        }\n      });\n    },\n    updateCart(item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.isLoading = true;\n      this.status.loadingItem = item.id;\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty,\n      };\n      if (item.qty >= 51) {\n        this.qtyWarning = true;\n        this.isLoading = false;\n        this.status.loadingItem = '';\n      } else {\n        this.$http.put(url, { data: cart }).then(() => {\n          this.status.loadingItem = '';\n          this.getCart();\n          emitter.emit('updateCart');\n          this.qtyWarning = false;\n        });\n      }\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then(() => {\n        this.getCart();\n        this.status.loadingItem = '';\n        this.isLoading = false;\n        emitter.emit('updateCart');\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.$http.post(url, { data: coupon }).then(() => {\n        this.getCart();\n        this.coupon_code = '';\n      });\n    },\n    cartNext() {\n      this.$router.push('/order');\n    },\n  },\n  created() {\n    emitter.on('updateCart', () => {\n      this.getCart();\n    });\n  },\n  mounted() {\n    this.getCart();\n    AOS.init();\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=a01b0fcc\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","script","__exports__","render","width","_hoisted_17","key","_hoisted_20","style","colspan","_hoisted_34","_hoisted_35","_Fragment","_createVNode","_component_LoadingPlugin","active","$data","isLoading","_component_CheckoutBanner","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_renderList","cart","carts","item","id","src","product","imageUrl","alt","_hoisted_9","_toDisplayString","title","_hoisted_10","_hoisted_11","productSize","choose","_hoisted_12","_hoisted_13","type","$event","qty","min","disabled","this","status","loadingItem","onChange","$options","updateCart","_hoisted_14","number","_hoisted_15","_ctx","$filters","currency","price","onClick","removeCartItem","_hoisted_18","_hoisted_16","qtyWarning","_hoisted_19","_hoisted_21","_createCommentVNode","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","placeholder","_cache","coupon_code","args","addCouponCode","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","total","_hoisted_31","_hoisted_32","final_total","_hoisted_33","_hoisted_36","_normalizeClass","cartWarning","_withModifiers","cartNext","data","provide","emitter","inject","components","CheckoutBanner","methods","getCart","api","$http","get","then","res","success","url","product_id","put","emit","delete","coupon","code","post","$router","push","created","on","mounted","AOS"],"sourceRoot":""}