{"version":3,"file":"js/964.8d4e0c90.js","mappings":"6MAEOA,MAAM,Q,GACJA,MAAM,qF,GAEFA,MAAM,c,EALnB,Y,EAAA,Q,GASeA,MAAM,a,GACLA,MAAM,4B,GAEPA,MAAM,wB,EAZrB,uB,GAAAC,IAAA,EAoBgBD,MAAM,gDACNE,KAAK,U,GACLC,EAAAA,EAAAA,GAA+C,QAAzCH,MAAM,mBAAkB,cAAU,G,GAAxCI,G,4EAtBhBC,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,OACEC,EAAAA,EAAAA,IAAmDC,EAAA,CAAnCC,OAAQC,EAAAC,WAAS,oBACjCR,EAAAA,EAAAA,GA4BM,MA5BNS,EA4BM,EA3BJT,EAAAA,EAAAA,GA0BM,MA1BNU,EA0BM,gBAzBJR,EAAAA,EAAAA,IAwBMC,EAAAA,GAAA,MA5BZQ,EAAAA,EAAAA,IAIsCJ,EAAAK,YAARC,K,WAAxBX,EAAAA,EAAAA,IAwBM,OAxBDL,MAAM,MAAkCC,IAAKe,EAAKC,I,EACrDd,EAAAA,EAAAA,GAsBM,MAtBNe,EAsBM,EArBJf,EAAAA,EAAAA,GAEI,KAFDgB,KAAK,IAAKC,SANvBC,EAAAA,EAAAA,KAAAC,GAMsCC,EAAAC,WAAWR,EAAKC,KAAE,c,EAC5Cd,EAAAA,EAAAA,GAA4D,OAAtDsB,IAAKT,EAAKU,SAAU1B,MAAM,eAAe2B,IAAI,Q,OAP/DC,IAAA,EAAAC,IASU1B,EAAAA,EAAAA,GAEM,MAFN2B,EAEM,EADJ3B,EAAAA,EAAAA,GAA0D,KAA1D4B,GAA0DC,EAAAA,EAAAA,IAAlBhB,EAAKiB,OAAK,MAEpD9B,EAAAA,EAAAA,GAcM,MAdN+B,EAcM,EAbJ/B,EAAAA,EAAAA,GAYS,UAXPgC,KAAK,SACLnC,MAAM,yCACLoB,QAAKE,GAAEC,EAAAa,QAAQpB,EAAKC,IACpBoB,SAAQ,KAAOC,OAAOC,cAAgBvB,EAAKC,I,MAE/BqB,OAAOC,cAAgBvB,EAAKC,KAAE,WAD3CZ,EAAAA,EAAAA,IAKM,MALNmC,EAlBdC,KAAAC,EAAAA,EAAAA,IAAA,QAAAC,EAAAA,EAAAA,IAuBoB,YAER,EAzBZC,Y,oCAoCA,GACEC,IAAAA,GACE,MAAO,CACLC,YAAa,GACbC,WAAY,CAAC,EACbhC,WAAY,GACZJ,WAAW,EACX2B,OAAQ,CACNC,YAAa,IAGnB,EACAS,OAAAA,GACE,MAAO,CACLC,QAAOA,EAAAA,EAEX,EACAC,WAAY,CAAC,EACbC,QAAS,CACPC,WAAAA,GACE,MAAMC,EAAO,oEACbC,KAAK3C,WAAY,EACjB2C,KAAKC,MAAMC,IAAIH,GAAKI,MAAMC,IACxBJ,KAAK3C,WAAY,EACb+C,EAAIb,KAAKc,UACXL,KAAKR,YAAcY,EAAIb,KAAKe,SAC5BN,KAAKvC,WAAauC,KAAKR,YAAYe,QAAQ7C,GAA2B,OAAlBA,EAAK8C,WAC3D,GAEJ,EACAtC,UAAAA,CAAWP,GACTqC,KAAKS,QAAQC,KAAM,YAAW/C,IAChC,EACAmB,OAAAA,CAAQnB,GACN,MAAMgD,EAAO,4DACbX,KAAKhB,OAAOC,YAActB,EAC1B,MAAMiD,EAAO,CACXC,WAAYlD,EACZmD,IAAK,GAEPd,KAAKC,MAAMc,KAAKJ,EAAK,CAAEpB,KAAMqB,IAAQT,MAAMC,IACzCJ,KAAKhB,OAAOC,YAAc,GAC1Be,KAAKgB,kBAAkBZ,EAAK,SAC5BT,EAAAA,EAAQsB,KAAK,aAAa,GAE9B,GAEFC,SAAU,CAAC,EACXC,OAAAA,GACEnB,KAAKF,aACP,G,QCjFF,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://new-project/./src/views/ProductBoots.vue","webpack://new-project/./src/views/ProductBoots.vue?3581"],"sourcesContent":["<template>\n  <LoadingPlugin :active=\"isLoading\"></LoadingPlugin>\n  <div class=\"body\">\n    <div class=\"row row-cols-2 row-cols-lg-4 d-flex justify-content-start flex-wrap g-3 mt-2 mb-3\">\n      <div class=\"col\" v-for=\"item in filterData\" :key=\"item.id\">\n        <div class=\"card h-100\">\n          <a href=\"#\" @click.prevent=\"getProduct(item.id)\">\n            <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"產品圖示\" />\n          </a>\n          <div class=\"card-body\">\n            <h5 class=\"card-title text-dark m-0\">{{ item.title }}</h5>\n          </div>\n          <div class=\"card-footer border-0\">\n            <button\n              type=\"button\"\n              class=\"btn btn-primary w-100 text-nowrap px-0\"\n              @click=\"addCart(item.id)\"\n              :disabled=\"this.status.loadingItem === item.id\">\n              <div\n                v-if=\"this.status.loadingItem === item.id\"\n                class=\"spinner-border text-warning spinner-border-sm\"\n                role=\"status\">\n                <span class=\"visually-hidden\">Loading...</span>\n              </div>\n              加入購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\n\nexport default {\n  data() {\n    return {\n      productsAll: [],\n      pagination: {},\n      filterData: [],\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n    };\n  },\n  provide() {\n    return {\n      emitter,\n    };\n  },\n  components: {},\n  methods: {\n    getProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          this.productsAll = res.data.products;\n          this.filterData = this.productsAll.filter((item) => item.category === '靴子');\n        }\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/product/${id}`);\n    },\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      this.$http.post(url, { data: cart }).then((res) => {\n        this.status.loadingItem = '';\n        this.$httpMessageState(res, '加入購物車');\n        emitter.emit('updateCart');\n      });\n    },\n  },\n  computed: {},\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./ProductBoots.vue?vue&type=template&id=85b1edf8\"\nimport script from \"./ProductBoots.vue?vue&type=script&lang=js\"\nexport * from \"./ProductBoots.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","role","_createElementVNode","_hoisted_11","_createElementBlock","_Fragment","_createVNode","_component_LoadingPlugin","active","$data","isLoading","_hoisted_1","_hoisted_2","_renderList","filterData","item","id","_hoisted_3","href","onClick","_withModifiers","$event","$options","getProduct","src","imageUrl","alt","_hoisted_5","_hoisted_4","_hoisted_6","_hoisted_7","_toDisplayString","title","_hoisted_8","type","addCart","disabled","status","loadingItem","_hoisted_10","_hoisted_12","_createCommentVNode","_createTextVNode","_hoisted_9","data","productsAll","pagination","provide","emitter","components","methods","getProducts","api","this","$http","get","then","res","success","products","filter","category","$router","push","url","cart","product_id","qty","post","$httpMessageState","emit","computed","mounted","__exports__","render"],"sourceRoot":""}